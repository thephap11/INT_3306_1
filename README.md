# âš½ Football Field Management System

> Há»‡ thá»‘ng quáº£n lÃ½ sÃ¢n bÃ³ng Ä‘Ã¡ toÃ n diá»‡n vá»›i giao diá»‡n web hiá»‡n Ä‘áº¡i

[![React](https://img.shields.io/badge/React-18.2.0-blue.svg)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-Express-green.svg)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/Database-PostgreSQL-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

Demo: https://dhpfootball.vercel.app/

## ğŸ“‹ Má»¥c lá»¥c

- [Giá»›i thiá»‡u](#-giá»›i-thiá»‡u)
- [TÃ­nh nÄƒng](#-tÃ­nh-nÄƒng)
- [CÃ´ng nghá»‡](#-cÃ´ng-nghá»‡)
- [CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t)
- [Cáº¥u hÃ¬nh](#-cáº¥u-hÃ¬nh)
- [Sá»­ dá»¥ng](#-sá»­-dá»¥ng)
- [Cáº¥u trÃºc dá»± Ã¡n](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [API Documentation](#-api-documentation)
- [Testing](#-testing)

## ğŸ¯ Giá»›i thiá»‡u

Há»‡ thá»‘ng quáº£n lÃ½ sÃ¢n bÃ³ng lÃ  á»©ng dá»¥ng web full-stack cho phÃ©p:

- ğŸŸï¸ **Quáº£n lÃ½ sÃ¢n bÃ³ng**: Táº¡o, chá»‰nh sá»­a, vÃ  quáº£n lÃ½ nhiá»u sÃ¢n bÃ³ng
- ğŸ“… **Äáº·t lá»‹ch online**: Äáº·t sÃ¢n trá»±c tuyáº¿n vá»›i lá»‹ch trÃ¬nh linh hoáº¡t
- ğŸ’° **Thanh toÃ¡n tÃ­ch há»£p**: Xá»­ lÃ½ thanh toÃ¡n vÃ  theo dÃµi doanh thu
- â­ **ÄÃ¡nh giÃ¡ & Review**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ vÃ  nháº­n xÃ©t
- ğŸ’¬ **Chat trá»±c tiáº¿p**: Giao tiáº¿p giá»¯a khÃ¡ch hÃ ng vÃ  quáº£n lÃ½ sÃ¢n
- ğŸ¤– **AI Assistant**: Há»— trá»£ thÃ´ng minh vÃ  phÃ¡t hiá»‡n gian láº­n
- ğŸ“Š **BÃ¡o cÃ¡o thá»‘ng kÃª**: Dashboard vá»›i biá»ƒu Ä‘á»“ doanh thu chi tiáº¿t
- ğŸ‘¥ **Quáº£n lÃ½ phÃ¢n quyá»n**: Há»‡ thá»‘ng 3 cáº¥p quyá»n (Admin/Manager/User)

## âœ¨ TÃ­nh nÄƒng

### DÃ nh cho Admin
- âœ… Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng
- âœ… Quáº£n lÃ½ managers vÃ  phÃ¢n quyá»n
- âœ… Xem bÃ¡o cÃ¡o doanh thu tá»•ng thá»ƒ
- âœ… Quáº£n lÃ½ táº¥t cáº£ sÃ¢n bÃ³ng vÃ  booking
- âœ… Thá»‘ng kÃª vÃ  phÃ¢n tÃ­ch há»‡ thá»‘ng

### DÃ nh cho Manager
- âœ… Quáº£n lÃ½ sÃ¢n bÃ³ng Ä‘Æ°á»£c giao
- âœ… Táº¡o vÃ  cáº­p nháº­t lá»‹ch trÃ¬nh sÃ¢n
- âœ… XÃ¡c nháº­n/tá»« chá»‘i booking
- âœ… Xem doanh thu theo sÃ¢n
- âœ… Chat vá»›i khÃ¡ch hÃ ng
- âœ… Quáº£n lÃ½ review vÃ  pháº£n há»“i

### DÃ nh cho User (KhÃ¡ch hÃ ng)
- âœ… ÄÄƒng kÃ½/ÄÄƒng nháº­p tÃ i khoáº£n
- âœ… TÃ¬m kiáº¿m sÃ¢n bÃ³ng
- âœ… Xem lá»‹ch trá»‘ng vÃ  Ä‘áº·t sÃ¢n
- âœ… Thanh toÃ¡n online
- âœ… Lá»‹ch sá»­ booking
- âœ… ÄÃ¡nh giÃ¡ vÃ  review sÃ¢n
- âœ… Chat vá»›i quáº£n lÃ½ sÃ¢n
- âœ… AI Assistant há»— trá»£

## ğŸ›  CÃ´ng nghá»‡

### Frontend
- **React** 18.2.0 - ThÆ° viá»‡n UI
- **Vite** 4.4.11 - Build tool & dev server
- **React Router** 6.16.0 - Routing
- **Axios** - HTTP client
- **Recharts** - Biá»ƒu Ä‘á»“ vÃ  thá»‘ng kÃª
- **React Hot Toast** - Notifications
- **Vitest** - Testing framework

### Backend
- **Node.js** - Runtime environment
- **Express.js** 4.21.2 - Web framework
- **Sequelize** 6.35.2 - ORM
- **PostgreSQL/MySQL** - Database
- **JWT** - Authentication
- **Bcrypt** - Password hashing
- **Multer** - File uploads
- **Nodemailer** - Email service
- **Google Generative AI** - AI features
- **Jest** - Testing framework

### DevOps & Tools
- **Sequelize CLI** - Database migrations
- **Morgan** - HTTP request logger
- **CORS** - Cross-origin resource sharing
- **dotenv** - Environment variables

## ğŸš€ CÃ i Ä‘áº·t

### YÃªu cáº§u há»‡ thá»‘ng

- Node.js >= 16.x
- PostgreSQL >= 13.x hoáº·c MySQL >= 8.x
- npm hoáº·c yarn
- Git

### Clone repository

```bash
git clone <repository-url>
cd INT_3306_1
```

### CÃ i Ä‘áº·t Backend

```bash
cd backend
npm install
```

### CÃ i Ä‘áº·t Frontend

```bash
cd frontend
npm install
```

## âš™ï¸ Cáº¥u hÃ¬nh

### 1. Cáº¥u hÃ¬nh Database

**Táº¡o database:**

```sql
CREATE DATABASE football_management;
```

### 2. Cáº¥u hÃ¬nh Backend

Táº¡o file `.env` tá»« template:

```bash
cd backend
copy .env.example .env  # Windows
# hoáº·c
cp .env.example .env    # Linux/Mac
```



### 3. Cáº¥u hÃ¬nh Frontend

```bash
cd frontend
copy .env.example .env  # Windows
```

Cáº­p nháº­t `.env`:

```env
VITE_API_URL=http://localhost:5000/api
```

### 4. Cháº¡y Migrations

```bash
cd backend
npm run db:migrate
```

### 5. Táº¡o tÃ i khoáº£n Admin (optional)

```bash
npm run create-admin
```

## ğŸ® Sá»­ dá»¥ng


Server cháº¡y táº¡i: `https://dhpfootball.vercel.app/`


### Build Production

**Backend:**
```bash
cd backend
npm start
```

**Frontend:**
```bash
cd frontend
npm run build
npm run preview
```

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
INT_3306_1/
â”œâ”€â”€ backend/                    # Backend Express.js
â”‚   â”œâ”€â”€ config/                # Database config
â”‚   â”œâ”€â”€ database/              # SQL schemas
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/           # App configuration
â”‚   â”‚   â”œâ”€â”€ controllers/      # Route controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/        # Admin controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/      # Manager controllers
â”‚   â”‚   â”‚   â””â”€â”€ user/         # User controllers
â”‚   â”‚   â”œâ”€â”€ middleware/       # Express middleware
â”‚   â”‚   â”œâ”€â”€ models/           # Sequelize models
â”‚   â”‚   â”œâ”€â”€ routes/           # API routes
â”‚   â”‚   â”œâ”€â”€ services/         # Business logic
â”‚   â”‚   â”œâ”€â”€ utils/            # Utilities
â”‚   â”‚   â””â”€â”€ migrations/       # Database migrations
â”‚   â”œâ”€â”€ __tests__/            # Test files
â”‚   â”œâ”€â”€ uploads/              # Uploaded files
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/                   # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/              # API services
â”‚   â”‚   â”œâ”€â”€ components/       # React components
â”‚   â”‚   â”œâ”€â”€ pages/            # Page components
â”‚   â”‚   â”œâ”€â”€ services/         # Frontend services
â”‚   â”‚   â”œâ”€â”€ App.jsx           # Main App component
â”‚   â”‚   â””â”€â”€ main.jsx          # Entry point
â”‚   â”œâ”€â”€ public/               # Static assets
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ Database/                   # Database schemas
â”‚   â”œâ”€â”€ database_schema.sql   # Main schema
â”‚   â””â”€â”€ insert_sample_data.sql
â”‚
â”œâ”€â”€ docs/                       # Documentation
â”‚   â””â”€â”€ database-design.sql
â”‚
â”œâ”€â”€ README.md                   # TÃ i liá»‡u nÃ y
â””â”€â”€ SYSTEM_DOCUMENTATION.md     # TÃ i liá»‡u chi tiáº¿t há»‡ thá»‘ng
```

## ğŸ“– API Documentation

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `POST /api/auth/logout` - ÄÄƒng xuáº¥t
- `POST /api/auth/forgot-password` - QuÃªn máº­t kháº©u
- `POST /api/auth/reset-password` - Reset máº­t kháº©u

### Fields (SÃ¢n bÃ³ng)
- `GET /api/fields` - Láº¥y danh sÃ¡ch sÃ¢n
- `GET /api/fields/:id` - Chi tiáº¿t sÃ¢n
- `POST /api/fields` - Táº¡o sÃ¢n má»›i (Manager/Admin)
- `PUT /api/fields/:id` - Cáº­p nháº­t sÃ¢n (Manager/Admin)
- `DELETE /api/fields/:id` - XÃ³a sÃ¢n (Admin)

### Bookings
- `GET /api/bookings` - Lá»‹ch sá»­ booking
- `POST /api/bookings` - Táº¡o booking má»›i
- `PUT /api/bookings/:id` - Cáº­p nháº­t booking
- `DELETE /api/bookings/:id` - Há»§y booking

### Reviews
- `GET /api/reviews/:fieldId` - Láº¥y reviews cá»§a sÃ¢n
- `POST /api/reviews` - Táº¡o review má»›i
- `PUT /api/reviews/:id` - Cáº­p nháº­t review
- `DELETE /api/reviews/:id` - XÃ³a review

### Chat
- `GET /api/chat/conversations` - Láº¥y danh sÃ¡ch chat
- `GET /api/chat/:conversationId/messages` - Láº¥y tin nháº¯n
- `POST /api/chat/messages` - Gá»­i tin nháº¯n

### Admin
- `GET /api/admin/users` - Quáº£n lÃ½ users
- `GET /api/admin/revenue` - BÃ¡o cÃ¡o doanh thu
- `POST /api/admin/managers` - Táº¡o manager

Xem chi tiáº¿t táº¡i: [SYSTEM_DOCUMENTATION.md](./SYSTEM_DOCUMENTATION.md)

## ğŸ§ª Testing

### Backend Tests

```bash
cd backend

# Cháº¡y táº¥t cáº£ tests
npm test

# Cháº¡y unit tests
npm run test:unit

# Cháº¡y integration tests
npm run test:integration

# Test coverage
npm run test:coverage

# Watch mode
npm run test:watch
```

### Frontend Tests

```bash
cd frontend

# Cháº¡y tests
npm test

# Test vá»›i UI
npm run test:ui

# Coverage
npm run test:coverage
```

## ğŸ“Š Database Schema

Há»‡ thá»‘ng sá»­ dá»¥ng cÃ¡c báº£ng chÃ­nh:

- **person** - NgÆ°á»i dÃ¹ng (customers, managers, admins)
- **fields** - SÃ¢n bÃ³ng
- **field_schedules** - Lá»‹ch trÃ¬nh sÃ¢n
- **bookings** - Äáº·t sÃ¢n
- **payments** - Thanh toÃ¡n
- **reviews** - ÄÃ¡nh giÃ¡
- **chats** - Tin nháº¯n
- **revenue_daily/weekly/monthly** - Thá»‘ng kÃª doanh thu

Xem schema chi tiáº¿t: [database_schema.sql](./Database/database_schema.sql)

## ğŸ” Báº£o máº­t

- âœ… JWT Authentication vá»›i refresh tokens
- âœ… Bcrypt password hashing
- âœ… Role-based access control (RBAC)
- âœ… Input validation & sanitization
- âœ… CORS configuration
- âœ… Rate limiting
- âœ… SQL injection protection (Sequelize ORM)
- âœ… XSS protection

## ğŸ“š TÃ i liá»‡u bá»• sung

- [SYSTEM_DOCUMENTATION.md](./SYSTEM_DOCUMENTATION.md) - TÃ i liá»‡u chi tiáº¿t há»‡ thá»‘ng
- [backend/SETUP.md](./backend/SETUP.md) - HÆ°á»›ng dáº«n setup backend
- [backend/AUTH_GUIDE.md](./backend/AUTH_GUIDE.md) - HÆ°á»›ng dáº«n authentication
- [QUICKSTART_AUTH.md](./QUICKSTART_AUTH.md) - Quick start guide

## ğŸ“ License

Distributed under the MIT License. See `LICENSE` for more information.

## ğŸ‘¥ Team

- **Developers**: DHP Team
- **Course**: INT3306
- **Year**: 2024-2025

---

â­ Star us on GitHub â€” it helps!

Made with â¤ï¸ by INT_3306_1 Team